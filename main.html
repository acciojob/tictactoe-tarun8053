<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tic Tac Toe</title>

  <style>
    body{
      font-family: Arial, sans-serif;
      margin:0;
      display:flex;
      justify-content:center;
      align-items:center;
      background:#f2f2f2;
      height:100vh;
    }

    .container{
      width:350px;
      text-align:center;
    }

    input{
      width:90%;
      padding:10px;
      margin:8px 0;
      font-size:16px;
    }

    #submit{
      padding:10px 18px;
      background:#0b76ff;
      color:white;
      border:none;
      cursor:pointer;
      font-size:16px;
      margin-top:10px;
    }

    .board{
      display:none;
      margin-top:20px;
    }

    .message{
      font-size:18px;
      font-weight:600;
      min-height:25px;
      margin-bottom:10px;
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(3, 100px);
      gap:5px;
      justify-content:center;
    }

    .cell{
      width:100px;
      height:100px;
      background:white;
      border:1px solid black;
      display:flex;
      justify-content:center;
      align-items:center;
      font-size:40px;
      cursor:pointer;
    }
  </style>
</head>
<body>

  <div class="container">

    <!-- ⬇ REQUIRED BY TESTS ⬇ -->
    <h1>Tic Tac Toe</h1>

    <input type="text" id="player1" placeholder="Enter Player 1 Name">
    <input type="text" id="player2" placeholder="Enter Player 2 Name">
    <button id="submit">Submit</button>
    <!-- ⬆ REQUIRED BY TESTS ⬆ -->

    <div class="board" id="board">
      <h1>Tic Tac Toe</h1>
      <div class="message" id="messageBox"></div>

      <div class="grid">
        <div class="cell" id="1"></div>
        <div class="cell" id="2"></div>
        <div class="cell" id="3"></div>
        <div class="cell" id="4"></div>
        <div class="cell" id="5"></div>
        <div class="cell" id="6"></div>
        <div class="cell" id="7"></div>
        <div class="cell" id="8"></div>
        <div class="cell" id="9"></div>
      </div>
    </div>

  </div>

<script>
  const p1 = document.getElementById("player1");
  const p2 = document.getElementById("player2");
  const submit = document.getElementById("submit");
  const board = document.getElementById("board");
  const message = document.getElementById("messageBox");
  const cells = document.querySelectorAll(".cell");

  let player1 = "";
  let player2 = "";
  let currentMark = "x";
  let currentPlayer = "";
  let active = false;
  let state = ["","","","","","","","",""];

  const wins = [
    [0,1,2],[3,4,5],[6,7,8],
    [0,3,6],[1,4,7],[2,5,8],
    [0,4,8],[2,4,6]
  ];

  submit.addEventListener("click", () => {
    if(p1.value === "" || p2.value === ""){
      alert("Please enter both player names");
      return;
    }

    player1 = p1.value.trim();
    player2 = p2.value.trim();
    currentPlayer = player1;
    message.textContent = `${currentPlayer}, you're up`;

    // Show board
    board.style.display = "block";
    active = true;
  });

  cells.forEach(cell => {
    cell.addEventListener("click", () => {

      let index = Number(cell.id) - 1;

      if(state[index] !== "" || !active) return;

      state[index] = currentMark;
      cell.textContent = currentMark; // Required by test ("x" in #1)

      if(checkWin()){
        const winnerName = (currentMark === 'x') ? player1 : player2;
        message.textContent = `${winnerName} congratulations you won!`;
        active = false;
        return;
      }

      currentMark = currentMark === "x" ? "o" : "x";
      currentPlayer = currentMark === "x" ? player1 : player2;
      message.textContent = `${currentPlayer}, you're up`;
    });
  });

  function checkWin(){
    return wins.some(pattern => {
      return pattern.every(i => state[i] === currentMark);
    });
  }
</script>

</body>
</html>
